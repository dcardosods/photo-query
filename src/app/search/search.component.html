<div class="py-4">
  <input
    type="text"
    placeholder="Search photos..."
    (keyup)="searchTerm$.next($event.target.value)"
    class="border w-full p-2 shadow"
  />
</div>
<p>
  Results for: <code>{{ lastSearchTerm$ | async }}</code>
</p>
<div class="py-4 flex flex-wrap">
  <app-photo-card
    *ngFor="let result of (results$ | async)"
    [photo]="result"
    [showDetails]="true"
    (selected)="openFavoritesModal($event)"
    class="m-2"
  ></app-photo-card>
</div>

<ngx-smart-modal #favoritesModal identifier="favoritesModal">
  <h1 class="mb-4">Add to favorites</h1>

  <div class="mb-4">
    <label for="favorite" class="block text-grey-darker text-sm font-bold mb-2">
      Existing list
    </label>
    <select
      id="favorite"
      name="favorite"
      [(ngModel)]="selectedFavorite"
      class="border w-full p-2 shadow"
    >
      <option
        *ngFor="let favorite of (favorites$ | async)"
        [ngValue]="favorite"
      >
        {{ favorite.name }}
      </option>
    </select>
  </div>

  <div class="text-right">
    <button
      type="button"
      (click)="addToFavorites(favoritesModal.getData())"
      class="bg-blue hover:bg-blue-dark text-white py-1 px-2"
    >
      Confirm
    </button>
  </div>
</ngx-smart-modal>
